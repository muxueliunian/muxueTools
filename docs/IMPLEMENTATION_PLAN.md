# MuxueTools å®æ–½è®¡åˆ’

> AI Studio (Gemini) â†’ OpenAI æ ¼å¼åå‘ä»£ç†å·¥å…·
> 
> æŠ€æœ¯æ ˆï¼šGo åç«¯ + Vue3 å‰ç«¯ | ç›®æ ‡å¹³å°ï¼šWindows / Linux / (Android)

---

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

### ç›®æ ‡
åˆ›å»ºä¸€ä¸ªæœ¬åœ°è¿è¡Œçš„å·¥å…·ï¼Œå°† Google AI Studio (Gemini) API åå‘ä»£ç†æˆ OpenAI å…¼å®¹æ ¼å¼ï¼Œæ”¯æŒï¼š
- å¤š API Key è½®è¯¢/è´Ÿè½½å‡è¡¡
- æµå¼å“åº” (SSE)
- å›¾ç‰‡è¾“å…¥ (Vision)
- Token æ¶ˆè€—ç»Ÿè®¡ï¼ˆå¦‚ API æ”¯æŒï¼‰
- GitHub è‡ªåŠ¨æ›´æ–°æ£€æµ‹ä¸åˆ†å‘
- Web UI ç®¡ç†ç•Œé¢

### ä½¿ç”¨åœºæ™¯
- ä¸ªäºº/å°å‹ç¤¾åŒºä½¿ç”¨ï¼ˆ5-10äººï¼‰
- æ¯äºº 5-20 ä¸ª API Key
- æœ¬åœ°éƒ¨ç½²ï¼Œæ•°æ®ä¸å…±äº«
- é€šè¿‡ GitHub Release åˆ†å‘æ›´æ–°

### è·¨å¹³å°æ”¯æŒ

| å¹³å° | æ”¯æŒçŠ¶æ€ | åˆ†å‘æ ¼å¼ |
|------|---------|---------|
| å¹³å° | æ”¯æŒçŠ¶æ€ | åˆ†å‘æ ¼å¼ |
|------|---------|---------|
| Windows x64 | âœ… ä¸»è¦æ”¯æŒ | `MuxueTools-windows-amd64.exe` (WebView) |
| Windows x86 | âœ… æ–°å¢æ”¯æŒ | `MuxueTools-windows-386.exe` (WebView) |
| Linux x64 | âœ… å®Œå…¨æ”¯æŒ | `MuxueTools-linux-amd64` |
| Linux ARM64 | âœ… å®Œå…¨æ”¯æŒ | `MuxueTools-linux-arm64` |
| macOS x64 | âœ… å®Œå…¨æ”¯æŒ | `MuxueTools-darwin-amd64` (WebView) |
| macOS ARM64 | âœ… å®Œå…¨æ”¯æŒ | `MuxueTools-darwin-arm64` (WebView) |
| Android 15+ | âœ… æ ¸å¿ƒæ”¯æŒ | `MuxueTools.apk` (Native WebView) |

---

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          MuxueTools                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   WebView   â”‚â”€â”€â”€â”€â”‚   Go API    â”‚â”€â”€â”€â”€â”‚   Gemini API Pool   â”‚  â”‚
â”‚  â”‚  (ç‹¬ç«‹çª—å£) â”‚    â”‚   Server    â”‚    â”‚   (Key è½®è¯¢ç®¡ç†)    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚         â–²                 â”‚                      â”‚              â”‚
â”‚         â”‚ (Embed)         â–¼                      â–¼              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   Vue3 UI   â”‚    â”‚ OpenAI å…¼å®¹ â”‚    â”‚   - gemini-pro      â”‚  â”‚
â”‚  â”‚   (èµ„æº)    â”‚    â”‚ /v1/chat/.. â”‚    â”‚   - gemini-flash    â”‚  â”‚
â”‚  â”‚             â”‚    â”‚ /v1/models  â”‚    â”‚   - gemini-vision   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ç‹¬ç«‹çª—å£æ¨¡å¼ (Standalone Window)
ä¸ä¾èµ–ç”¨æˆ·é»˜è®¤æµè§ˆå™¨ï¼Œä½¿ç”¨è½»é‡çº§ WebView åŒ…è£…å™¨ï¼ˆå¦‚ `webview_go` æˆ– `wails`ï¼‰åˆ›å»ºç‹¬ç«‹åº”ç”¨çª—å£ã€‚
- **Windows**: ä½¿ç”¨ Edge WebView2 è¿è¡Œæ—¶ã€‚
- **macOS/Linux**: ä½¿ç”¨ç³»ç»Ÿ WebKitã€‚
- **Android**: ä½¿ç”¨åŸç”Ÿ System WebViewã€‚

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
MuxueTools/
â”œâ”€â”€ cmd/
â”‚   â””â”€â”€ server/
â”‚       â””â”€â”€ main.go              # ç¨‹åºå…¥å£
â”œâ”€â”€ internal/
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”œâ”€â”€ router.go            # è·¯ç”±é…ç½®
â”‚   â”‚   â”œâ”€â”€ openai_handler.go    # OpenAI å…¼å®¹ç«¯ç‚¹å¤„ç†
â”‚   â”‚   â”œâ”€â”€ admin_handler.go     # ç®¡ç† API
â”‚   â”‚   â””â”€â”€ middleware.go        # ä¸­é—´ä»¶ï¼ˆCORSã€æ—¥å¿—ç­‰ï¼‰
â”‚   â”œâ”€â”€ gemini/
â”‚   â”‚   â”œâ”€â”€ client.go            # Gemini API å®¢æˆ·ç«¯
â”‚   â”‚   â”œâ”€â”€ models.go            # Gemini è¯·æ±‚/å“åº”æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ converter.go         # OpenAI â†” Gemini æ ¼å¼è½¬æ¢
â”‚   â”‚   â””â”€â”€ token_counter.go     # Token æ¶ˆè€—ç»Ÿè®¡
â”‚   â”œâ”€â”€ keypool/
â”‚   â”‚   â”œâ”€â”€ pool.go              # Key æ± ç®¡ç†å™¨
â”‚   â”‚   â”œâ”€â”€ strategy.go          # è½®è¯¢ç­–ç•¥ï¼ˆè½®è¯¢/éšæœº/æ™ºèƒ½ï¼‰
â”‚   â”‚   â””â”€â”€ stats.go             # ä½¿ç”¨ç»Ÿè®¡
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â”œâ”€â”€ config.go            # é…ç½®ç»“æ„
â”‚   â”‚   â””â”€â”€ loader.go            # é…ç½®åŠ è½½/ä¿å­˜
â”‚   â”œâ”€â”€ storage/
â”‚   â”‚   â””â”€â”€ sqlite.go            # SQLite æœ¬åœ°å­˜å‚¨ï¼ˆç»Ÿè®¡æ•°æ®ï¼‰
â”‚   â””â”€â”€ updater/
â”‚       â””â”€â”€ github.go            # GitHub æ›´æ–°æ£€æµ‹
â”œâ”€â”€ web/                         # Vue3 å‰ç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ views/
â”‚   â”‚   â”‚   â”œâ”€â”€ Dashboard.vue    # ä»ªè¡¨ç›˜
â”‚   â”‚   â”‚   â”œâ”€â”€ KeyManager.vue   # Key ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ Stats.vue        # ç»Ÿè®¡é¡µé¢
â”‚   â”‚   â”‚   â””â”€â”€ Settings.vue     # è®¾ç½®é¡µé¢
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ stores/              # Pinia çŠ¶æ€ç®¡ç†
â”‚   â”‚   â””â”€â”€ App.vue
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ vite.config.ts
â”œâ”€â”€ embed.go                     # åµŒå…¥å‰ç«¯é™æ€æ–‡ä»¶
â”œâ”€â”€ configs/
â”‚   â””â”€â”€ config.example.yaml      # é…ç½®æ–‡ä»¶ç¤ºä¾‹
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ build.ps1                # Windows æ„å»ºè„šæœ¬
â”‚   â””â”€â”€ build.sh                 # Linux/macOS æ„å»ºè„šæœ¬
â”œâ”€â”€ .goreleaser.yaml             # GoReleaser é…ç½®ï¼ˆå¤šå¹³å°æ‰“åŒ…ï¼‰
â”œâ”€â”€ go.mod
â”œâ”€â”€ go.sum
â””â”€â”€ README.md
```

---

## ğŸ”Œ API ç«¯ç‚¹è®¾è®¡

### OpenAI å…¼å®¹ç«¯ç‚¹ï¼ˆä»£ç†åŠŸèƒ½ï¼‰

| ç«¯ç‚¹ | æ–¹æ³• | æè¿° |
|------|------|------|
| `/v1/chat/completions` | POST | å¯¹è¯è¡¥å…¨ï¼ˆæ ¸å¿ƒåŠŸèƒ½ï¼‰ |
| `/v1/models` | GET | è·å–å¯ç”¨æ¨¡å‹åˆ—è¡¨ |
| `/health` | GET | å¥åº·æ£€æŸ¥ |

### ç®¡ç†ç«¯ç‚¹ï¼ˆWeb UI ä½¿ç”¨ï¼‰

| ç«¯ç‚¹ | æ–¹æ³• | æè¿° |
|------|------|------|
| `/api/keys` | GET/POST/DELETE | Key ç®¡ç† CRUD |
| `/api/keys/:id/test` | POST | æµ‹è¯•å•ä¸ª Key å¯ç”¨æ€§ |
| `/api/keys/import` | POST | æ‰¹é‡å¯¼å…¥ Key |
| `/api/keys/export` | GET | å¯¼å‡º Key åˆ—è¡¨ |
| `/api/stats` | GET | è·å–ä½¿ç”¨ç»Ÿè®¡ï¼ˆè¯·æ±‚æ•°ã€Token æ¶ˆè€—ï¼‰ |
| `/api/stats/keys` | GET | è·å–å„ Key ä½¿ç”¨æƒ…å†µ |
| `/api/config` | GET/PUT | é…ç½®ç®¡ç† |
| `/api/update/check` | GET | æ£€æŸ¥ GitHub æ›´æ–° |
| `/api/update/info` | GET | è·å–æœ€æ–°ç‰ˆæœ¬ä¿¡æ¯ |

---

## ğŸ”„ å¼€å‘é˜¶æ®µ

### é˜¶æ®µä¸€ï¼šæ ¸å¿ƒåç«¯ âœ… (å®Œæˆäº 2026-01-15)

#### 1.1 é¡¹ç›®åˆå§‹åŒ–
- [x] åˆå§‹åŒ– Go module (`MuxueTools`)
- [x] å®‰è£…ä¾èµ–ï¼ˆgin, viper, logrus ç­‰ï¼‰
- [x] åˆ›å»ºåŸºç¡€ç›®å½•ç»“æ„
- [x] é…ç½®æ–‡ä»¶ç»“æ„å®šä¹‰

#### 1.2 Key æ± ç®¡ç†å™¨
- [x] Key å­˜å‚¨ç»“æ„ï¼ˆæ”¯æŒåˆ†ç»„/æ ‡ç­¾ï¼‰
- [x] è½®è¯¢ç­–ç•¥å®ç°
  - Round Robinï¼ˆè½®è¯¢ï¼‰
  - Randomï¼ˆéšæœºï¼‰
  - Least Usedï¼ˆæœ€å°‘ä½¿ç”¨ï¼‰
  - Weightedï¼ˆåŠ æƒï¼Œæ ¹æ®æˆåŠŸç‡ï¼‰
- [x] Key çŠ¶æ€ç®¡ç†ï¼ˆå¯ç”¨/å†·å´ä¸­/ç¦ç”¨ï¼‰
- [x] Rate Limit æ£€æµ‹ä¸è‡ªåŠ¨å†·å´
- [x] ä½¿ç”¨æ¬¡æ•°ç»Ÿè®¡

#### 1.3 Gemini API å®¢æˆ·ç«¯
- [x] HTTP å®¢æˆ·ç«¯å°è£…
- [x] è¯·æ±‚ç­¾å/è®¤è¯
- [x] æ™®é€šè¯·æ±‚å¤„ç†
- [x] æµå¼å“åº”å¤„ç†ï¼ˆSSEï¼‰
- [x] å›¾ç‰‡è¾“å…¥å¤„ç†ï¼ˆbase64/URLï¼‰
- [x] Token æ¶ˆè€—è§£æï¼ˆä»å“åº” header/body æå–ï¼‰
- [x] é”™è¯¯å¤„ç†ä¸é‡è¯•

#### 1.4 æ ¼å¼è½¬æ¢å™¨
- [x] OpenAI Request â†’ Gemini Request
- [x] Gemini Response â†’ OpenAI Response
- [x] æµå¼å“åº”æ ¼å¼è½¬æ¢
- [x] æ¨¡å‹åç§°æ˜ å°„ï¼ˆgpt-4 â†’ gemini-pro ç­‰ï¼‰
- [x] Token ç»Ÿè®¡å­—æ®µè½¬æ¢

#### 1.5 OpenAI å…¼å®¹ç«¯ç‚¹
- [x] `/v1/chat/completions` å®ç°
- [x] æµå¼å“åº”æ”¯æŒ
- [x] `/v1/models` å®ç°
- [x] é”™è¯¯å“åº”æ ¼å¼åŒ–

### é˜¶æ®µäºŒï¼šç®¡ç†åŠŸèƒ½ âœ… (å®Œæˆäº 2026-01-15)

#### 2.1 é…ç½®ä¸å­˜å‚¨
- [x] YAML é…ç½®æ–‡ä»¶è¯»å†™
- [x] SQLite æœ¬åœ°å­˜å‚¨ï¼ˆç»Ÿè®¡æ•°æ®æŒä¹…åŒ–ï¼‰
- [ ] è¿è¡Œæ—¶é…ç½®çƒ­æ›´æ–° - P2 å¾…ä¼˜åŒ–
- [x] é…ç½®éªŒè¯

#### 2.2 ç®¡ç† API
- [x] Key CRUD æ¥å£
- [x] Key æ‰¹é‡å¯¼å…¥/å¯¼å‡º
- [x] ä½¿ç”¨ç»Ÿè®¡æ¥å£ï¼ˆåŒ…å« Token æ¶ˆè€—ï¼‰
- [x] é…ç½®ç®¡ç†æ¥å£

#### 2.3 æ›´æ–°æ£€æµ‹
- [x] GitHub Release API è°ƒç”¨
- [x] ç‰ˆæœ¬æ¯”è¾ƒé€»è¾‘
- [x] æ›´æ–°æç¤ºï¼ˆè¿”å›ä¸‹è½½é“¾æ¥ï¼‰

### é˜¶æ®µä¸‰ï¼šAPI å±‚ âœ… (å®Œæˆäº 2026-01-15)

#### 3.1 è·¯ç”±ä¸æœåŠ¡å™¨
- [x] Gin è·¯ç”±é…ç½® (`api/router.go`)
- [x] æœåŠ¡å™¨åˆå§‹åŒ– (`api/server.go`)
- [x] ä¸»ç¨‹åºå…¥å£ (`cmd/server/main.go`)

#### 3.2 å¤„ç†å™¨å¼€å‘
- [x] OpenAI å…¼å®¹ç«¯ç‚¹ (`api/openai_handler.go`)
  - `/v1/chat/completions` (é˜»å¡ + SSE æµå¼)
  - `/v1/models`
- [x] ç®¡ç†ç«¯ç‚¹ (`api/admin_handler.go`)
  - Key CRUDã€å¯¼å…¥å¯¼å‡º
  - ç»Ÿè®¡æ¥å£
  - é…ç½®ç®¡ç†
  - æ›´æ–°æ£€æµ‹
- [x] å¥åº·æ£€æŸ¥ (`api/health_handler.go`)

#### 3.3 ä¸­é—´ä»¶
- [x] CORS ä¸­é—´ä»¶
- [x] è¯·æ±‚æ—¥å¿—ä¸­é—´ä»¶
- [x] Panic æ¢å¤ä¸­é—´ä»¶
- [x] è¯·æ±‚ ID ä¸­é—´ä»¶

**æµ‹è¯•ç»“æœ**: 29/29 é€šè¿‡ âœ…

### é˜¶æ®µ 3.5ï¼šå­˜å‚¨å±‚ä¸ä¼šè¯ç®¡ç† âœ… (å®Œæˆäº 2026-01-15)

#### 3.5.1 SQLite å­˜å‚¨å±‚
- [x] å­˜å‚¨å™¨åˆå§‹åŒ– (`storage/sqlite.go`)
- [x] Key æŒä¹…åŒ– CRUD (`storage/keys.go`)
- [x] æ•°æ®åº“è¿ç§»

#### 3.5.2 ä¼šè¯ç®¡ç†
- [x] ä¼šè¯ç±»å‹å®šä¹‰ (`types/session.go`)
- [x] ä¼šè¯å­˜å‚¨ CRUD (`storage/sessions.go`)
- [x] æ¶ˆæ¯å­˜å‚¨ CRUD
- [x] ä¼šè¯ API (`api/session_handler.go`)
  - GET/POST/PUT/DELETE `/api/sessions`
  - POST `/api/sessions/:id/messages`

**æµ‹è¯•ç»“æœ**: 17/17 é€šè¿‡ âœ…

### é˜¶æ®µå››ï¼šå‰ç«¯å¼€å‘ âœ… (å®Œæˆäº 2026-01-18)

#### 4.1 é¡¹ç›®æ­å»º
- [x] Vite + Vue3 + TypeScript åˆå§‹åŒ–
- [x] Pinia çŠ¶æ€ç®¡ç†
- [x] Vue Router
- [x] UI æ¡†æ¶ï¼ˆNaive UIï¼‰

#### 4.2 é¡µé¢å¼€å‘
- [x] ä»ªè¡¨ç›˜ (`Dashboard.vue`)
  - æ¦‚è§ˆç»Ÿè®¡ã€Token æ¶ˆè€—
- [x] Key ç®¡ç† (`KeyManager.vue`)
  - Key åˆ—è¡¨ï¼ˆçŠ¶æ€ã€ä½¿ç”¨æ¬¡æ•°ã€Token æ¶ˆè€—ï¼‰
  - æ·»åŠ /ç¼–è¾‘/åˆ é™¤ Key
  - æ‰¹é‡å¯¼å…¥/å¯¼å‡º
  - æµ‹è¯• Key å¯ç”¨æ€§
- [x] ä½¿ç”¨ç»Ÿè®¡ (`Stats.vue`)
  - è¯·æ±‚æ¬¡æ•°å›¾è¡¨
  - Token æ¶ˆè€—å›¾è¡¨
  - å„ Key ä½¿ç”¨åˆ†å¸ƒ
- [x] è®¾ç½® (`Settings.vue`)
  - è½®è¯¢ç­–ç•¥é€‰æ‹©
  - æ›´æ–°æ£€æµ‹ä¸ä¸‹è½½é“¾æ¥

#### 4.3 ç¾åŒ–ä¸äº¤äº’
- [x] æš—è‰²ä¸»é¢˜ï¼ˆé»˜è®¤ï¼‰
- [x] å“åº”å¼å¸ƒå±€
- [x] åŠ è½½åŠ¨ç”»ä¸ Toast åé¦ˆ

#### 4.4 å‰ç«¯åµŒå…¥
- [x] å‰ç«¯æ„å»ºè¾“å‡ºåˆ° Go embed
- [x] é™æ€æ–‡ä»¶æœåŠ¡é…ç½®

### é˜¶æ®µäº”ï¼šæ‰“åŒ…å‘å¸ƒ âœ… (å®Œæˆäº 2026-01-18)

#### 5.1 å¤šå¹³å°æ‰“åŒ…
- [x] GoReleaser é…ç½® (`.goreleaser.yaml`)
- [x] Windows exe å›¾æ ‡è®¾ç½®
- [x] ç‰ˆæœ¬ä¿¡æ¯åµŒå…¥
- [x] å¤šå¹³å°äº¤å‰ç¼–è¯‘
  - windows/amd64
  - linux/amd64, linux/arm64
  - darwin/amd64, darwin/arm64

#### 5.2 GitHub Release
- [x] GitHub Actions CI/CD é…ç½®
- [x] è‡ªåŠ¨å‘å¸ƒ Action
- [x] Changelog è‡ªåŠ¨ç”Ÿæˆ

#### 5.3 æ–‡æ¡£
- [x] README ä½¿ç”¨è¯´æ˜
- [x] é…ç½®æ–‡ä»¶è¯´æ˜
- [x] API ä½¿ç”¨æ–‡æ¡£

---

### é˜¶æ®µå…­ï¼šAndroid APK (Native Support)

#### 6.1 Android é¡¹ç›®æ¶æ„
ä½¿ç”¨ `gomobile` å°† Go åç«¯ç¼–è¯‘ä¸º Android åº“ (`.aar`)ï¼Œåœ¨ Android Studio ä¸­æ„å»ºåŸç”Ÿå¤–å£³ã€‚

#### 6.2 é€‚é…å·¥ä½œ
- [ ] Go: é€‚é… Android æ–‡ä»¶ç³»ç»Ÿè·¯å¾„ (Config/DB)
- [ ] Go: å°è£… `StartServer(bindAddr string)` ä¾› Java/Kotlin è°ƒç”¨
- [ ] Android: å®ç°å‰å°æœåŠ¡ (Foreground Service) ä¿æŒæœåŠ¡è¿è¡Œ
- [ ] Android: é›†æˆ WebView åŠ è½½ `http://localhost:{port}`
- [ ] Android 15+: é€‚é… Edge-to-Edge å…¨å±æ˜¾ç¤º

#### 6.3 æ‰“åŒ…ä¸æµ‹è¯•
- [ ] ç¼–è¯‘ x86/arm64 æ¶æ„åº“
- [ ] ç”Ÿæˆ release ç­¾å APK
- [ ] çœŸæœºæµ‹è¯• (Android 15+)

---

## ğŸ“¦ æŠ€æœ¯ä¾èµ–

### Go åç«¯
```go
// go.mod
module muxueTools

go 1.22

require (
    github.com/gin-gonic/gin v1.9+        // HTTP æ¡†æ¶
    github.com/gin-contrib/cors v1.5+     // CORS æ”¯æŒ
    github.com/spf13/viper v1.18+         // é…ç½®ç®¡ç†
    github.com/sirupsen/logrus v1.9+      // æ—¥å¿—
    gopkg.in/yaml.v3 v3.0+                // YAML è§£æ
    github.com/google/uuid v1.5+          // UUID ç”Ÿæˆ
    github.com/mattn/go-sqlite3 v1.14+    // SQLite é©±åŠ¨
    gorm.io/gorm v1.25+                   // ORM
    gorm.io/driver/sqlite v1.5+           // GORM SQLite
)
```

### Vue3 å‰ç«¯
```json
{
  "dependencies": {
    "vue": "^3.4",
    "vue-router": "^4.2",
    "pinia": "^2.1",
    "naive-ui": "^2.38",
    "@vicons/ionicons5": "^0.12",
    "axios": "^1.6",
    "echarts": "^5.5",
    "vue-echarts": "^6.6"
  },
  "devDependencies": {
    "vite": "^5.0",
    "typescript": "^5.3",
    "@vitejs/plugin-vue": "^5.0"
  }
}
```

---

## ğŸ¯ æ¨¡å‹æ˜ å°„é…ç½®

```yaml
# æ¨¡å‹åç§°æ˜ å°„
model_mappings:
  # OpenAI æ¨¡å‹å â†’ Gemini æ¨¡å‹å
  "gpt-4": "gemini-1.5-pro-latest"
  "gpt-4-turbo": "gemini-1.5-pro-latest"
  "gpt-4-vision-preview": "gemini-1.5-pro-latest"
  "gpt-4o": "gemini-1.5-flash-latest"
  "gpt-4o-mini": "gemini-1.5-flash-8b-latest"
  "gpt-3.5-turbo": "gemini-1.5-flash-latest"
  
  # ç›´æ¥ä½¿ç”¨ Gemini æ¨¡å‹åä¹Ÿæ”¯æŒ
  "gemini-pro": "gemini-1.5-pro-latest"
  "gemini-flash": "gemini-1.5-flash-latest"
  "gemini-2.0-flash": "gemini-2.0-flash"
  "gemini-2.5-pro": "gemini-2.5-pro-preview"
```

---

## ğŸ“Š é…ç½®æ–‡ä»¶ç¤ºä¾‹

```yaml
# config.yaml
server:
  port: 8080
  host: "0.0.0.0"

# API Keys é…ç½®
keys:
  - key: "AIzaSy..."
    name: "Key 1"
    enabled: true
    tags: ["personal"]
  - key: "AIzaSy..."
    name: "Key 2"
    enabled: true
    tags: ["backup"]

# Key æ± ç­–ç•¥
pool:
  strategy: "round_robin"  # round_robin | random | least_used | weighted
  cooldown_seconds: 60     # è§¦å‘é™æµåå†·å´æ—¶é—´
  max_retries: 3           # æœ€å¤§é‡è¯•æ¬¡æ•°

# æ—¥å¿—é…ç½®
logging:
  level: "info"
  file: "logs/MuxueTools.log"

# æ›´æ–°æ£€æµ‹
update:
  enabled: true
  check_interval: "24h"
  github_repo: "muxueliunian/MuxueTools"
```

---

## ğŸ“ˆ Token ç»Ÿè®¡è¯´æ˜

Google AI Studio / Gemini API åœ¨å“åº”ä¸­ä¼šè¿”å› `usageMetadata`ï¼ŒåŒ…å«ï¼š

```json
{
  "usageMetadata": {
    "promptTokenCount": 10,
    "candidatesTokenCount": 50,
    "totalTokenCount": 60
  }
}
```

MuxueTools ä¼šï¼š
1. è§£æè¿™äº›å­—æ®µ
2. è½¬æ¢ä¸º OpenAI æ ¼å¼çš„ `usage` å­—æ®µ
3. å­˜å‚¨åˆ°æœ¬åœ° SQLite ç”¨äºç»Ÿè®¡å±•ç¤º

---

## ğŸš€ å¿«é€Ÿå¼€å§‹ï¼ˆç”¨æˆ·è§†è§’ï¼‰

### Windows
```powershell
# 1. ä¸‹è½½ MuxueTools-windows-amd64.exe
# 2. åŒå‡»è¿è¡Œï¼ˆé¦–æ¬¡ä¼šç”Ÿæˆ config.yamlï¼‰
# 3. ç¼–è¾‘ config.yaml æ·»åŠ  API Key
# 4. é‡æ–°è¿è¡Œ
# 5. è®¿é—® http://localhost:8080 ç®¡ç†ç•Œé¢
# 6. é…ç½®å®¢æˆ·ç«¯ä½¿ç”¨ http://localhost:8080/v1 ä½œä¸º API ç«¯ç‚¹
```

### Linux
```bash
# 1. ä¸‹è½½å¯¹åº”æ¶æ„çš„äºŒè¿›åˆ¶æ–‡ä»¶
wget https://github.com/muxueliunian/MuxueTools/releases/latest/download/MuxueTools-linux-amd64
chmod +x MuxueTools-linux-amd64

# 2. è¿è¡Œ
./MuxueTools-linux-amd64

# 3. è®¿é—® http://localhost:8080
```

### Android (WebView APK)
1. ä¸‹è½½å¹¶å®‰è£… `MuxueTools.apk`
2. æ‰“å¼€ Appï¼Œç­‰å¾…æœåŠ¡å™¨å¯åŠ¨ï¼ˆçº¦1-2ç§’ï¼‰
3. ç•Œé¢è‡ªåŠ¨æ˜¾ç¤ºï¼ˆWebViewï¼‰
4. å…¶ä»– Appï¼ˆå¦‚ Chatboxï¼‰å¯è¿æ¥ `http://localhost:8080/v1`


---

## â° æ—¶é—´ä¼°ç®—

| é˜¶æ®µ | é¢„ä¼°æ—¶é—´ | å®é™…è¿›åº¦ |
|------|---------|----------|
| é˜¶æ®µä¸€ï¼šæ ¸å¿ƒåç«¯ | 3-4 å¤© | âœ… å®Œæˆ |
| é˜¶æ®µäºŒï¼šç®¡ç†åŠŸèƒ½ | 2 å¤© | âœ… å®Œæˆ |
| é˜¶æ®µä¸‰ï¼šAPI å±‚ | 1-2 å¤© | âœ… å®Œæˆ |
| é˜¶æ®µå››ï¼šå‰ç«¯å¼€å‘ | 2-3 å¤© | âœ… å®Œæˆ |
| é˜¶æ®µäº”ï¼šæ‰“åŒ…å‘å¸ƒ | 1-2 å¤© | âœ… å®Œæˆ |
| é˜¶æ®µå…­ï¼šAndroid APK | 2-3 å¤© | â³ å¯é€‰ |
| **æ€»è®¡** | **10-14 å¤©** | **å·²å®Œæˆ** |

---

## âœ… ç¡®è®¤äº‹é¡¹

- [x] é¡¹ç›®åç§°ï¼š**MuxueTools**
- [x] GitHub ä»“åº“ï¼š`muxueliunian/MuxueTools`ï¼ˆå¾…åˆ›å»ºï¼‰
- [x] æ— éœ€ç”¨æˆ·è®¤è¯ï¼Œæœ¬åœ°éƒ¨ç½²
- [x] Token ç»Ÿè®¡ï¼šä½¿ç”¨ Gemini API è¿”å›çš„ usageMetadata
- [x] å›¾æ ‡ï¼šç”¨æˆ·è‡ªè¡Œç»˜åˆ¶
- [x] è·¨å¹³å°ï¼šWindows / Linux / macOS / Android (WebView APK)

---

## ğŸ“š å‚è€ƒé¡¹ç›®

1. [songquanpeng/one-api](https://github.com/songquanpeng/one-api) - å¤šæ¨¡å‹èšåˆæ–¹æ¡ˆ
2. [zhu327/gemini-openai-proxy](https://github.com/zhu327/gemini-openai-proxy) - Gemini ä»£ç†
3. [PublicAffairs/openai-gemini](https://github.com/PublicAffairs/openai-gemini) - Serverless æ–¹æ¡ˆ

---

*æœ€åæ›´æ–°: 2026-01-20*
